@startuml SD-001
title Генерация тестовых сценариев из OpenAPI спецификации
participant Тестировщик
participant "Бот-тестировщик" as Бот
participant "Система хранения" as Хранилище
participant "CI/CD система" as CI

Тестировщик -> Бот : Загружает OpenAPI файл
activate Бот

Бот -> Бот : Валидация структуры файла
alt Файл невалиден
    Бот --> Тестировщик : Ошибка валидации (детали)
    deactivate Бот
else Файл валиден
    Бот -> Бот : Анализ endpoints и схем
    Бот -> Бот : Генерация тестовых классов
    Бот -> Хранилище : Сохранить тесты
    alt Директория недоступна
        Хранилище --> Бот : Ошибка доступа
        Бот --> Тестировщик : Запросить новую директорию
    else Успешное сохранение
        Хранилище --> Бот : Подтверждение сохранения
        Бот -> CI : Уведомить о новых тестах
        Бот --> Тестировщик : Успешная генерация
    end
end

@enduml
